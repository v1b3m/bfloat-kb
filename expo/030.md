## Temporary files

I've added temporary files for legacy projects using a minimal expo template, this is to enable me test out the deployments, we can remove these later.

Where are these temporary files located? Plus any other code that will need to be removed

---

### Locations of Legacy Project / Temporary File Code

#### 1. `app/components/project/ProjectPage.tsx`

**Lines 18-139: `createMinimalExpoTemplate()` function**
- Generates a minimal Expo template with `app.json`, `package.json`, `app/_layout.tsx`, `app/index.tsx`, and `tsconfig.json`
- Creates unique bundle identifiers using project title/id
- This entire function can be removed when legacy projects are no longer needed

**Lines 331-350: Legacy project handling in `useEffect`**
```typescript
const isLegacyProject = !project.gitInfo?.cloneUrl
// ...
if (isLegacyProject && !hasFiles) {
  const templateFiles = createMinimalExpoTemplate(project)
  workbenchStore.setProject({ ...project, files: templateFiles })
} else if (isLegacyProject) {
  workbenchStore.setProject(project)
}
```

#### 2. `app/components/workbench/Workbench.tsx`

**Line 448: Legacy project file handling check**
```typescript
// For legacy projects, we can proceed with an empty project (files stored in DB might be empty)
```

**Line 454: Legacy project AI generation check**
```typescript
// Don't auto-run while AI is still generating files (legacy non-git projects only)
```

**Lines 586-599+: Legacy temp directory flow**
```typescript
// Legacy temp directory flow for non-git projects
if (!window.conveyor?.filesystem) {
  console.error('[Workbench] Filesystem API not available for legacy flow')
  return
}
// Step 1: Create a temporary directory for this project
const createResult = await window.conveyor.filesystem.createTempDir(project.id)
```

### Summary of What to Remove

When removing legacy project support:

1. **Delete** the `createMinimalExpoTemplate()` function (lines 18-139 in ProjectPage.tsx)
2. **Simplify** the project initialization logic to only handle git-based projects
3. **Remove** the `isLegacyProject` checks and their associated code paths
4. **Remove** the temp directory creation flow in Workbench.tsx (the `createTempDir` call and related logic)
5. **Clean up** any console.log statements referencing "legacy"

### Files to Modify

| File                                     | Action                                                    |
| ---------------------------------------- | --------------------------------------------------------- |
| `app/components/project/ProjectPage.tsx` | Remove `createMinimalExpoTemplate`, simplify project init |
| `app/components/workbench/Workbench.tsx` | Remove legacy temp directory flow, simplify to git-only   |
